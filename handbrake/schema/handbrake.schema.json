{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "1.6.1",
  "title": "Sisyphus Handbrake Schema",
  "description": "The Sisyphus HandbrakeCLI schema to import `handbrake` options.",
  "type": "object",
  "properties": {
    "source": {
      "description": "The source media file to process.",
      "type": "string"
    },
    "output_file": {
      "description": "The file to save the processed media file to.",
      "type": "string"
    },
    "source_options": {
      "description": "The source options to use.",
      "type": "object",
      "properties": {
        "title": {
          "description": "Select a title to encode.",
          "type": "integer",
          "default": 1
        },
        "min_duration": {
          "description": "Set the minimum title duration (in seconds).",
          "type": "number",
          "default": 10
        },
        "main_feature": {
          "description": "Detect and select the main feature title.",
          "type": "boolean",
          "default": false
        },
        "chapters": {
          "description": "Select chapters (e.g. '1-3' for chapters 1 to 3 or '3' for chapter 3 only, default: all chapters)",
          "type": "string"
        },
        "angle": {
          "description": "Select the video angle (DVD or Blu-ray only).",
          "type": "integer"
        },
        "previews": {
          "description": "Select how many preview images are generated and stored to the disk.",
          "type": "integer",
          "default": 10
        },
        "start_at_preview": {
          "description": "Start encoding at a given preview.",
          "type": "integer"
        },
        "start_at": {
          "description": "Start encoding at a given offset in seconds, frames, or pts (on a 90kHz clock) (e.g. seconds:10, frames:300, pts:900000). Units must match --stop-at units, if specified",
          "type": "object",
          "properties": {
            "frames": {
              "description": "The frame number to start at.",
              "type": "integer"
            },
            "seconds": {
              "description": "The time-code to start at (in seconds).",
              "type": "number"
            },
            "pts": {
              "description": "The presentation timestamp to start at (based on a 90 kHz clock).",
              "type": "integer"
            }
          },
          "oneOf": [
            {
              "required": [
                "frames"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "seconds"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "pts"
              ],
              "maxProperties": 1
            }
          ]
        },
        "stop_at": {
          "description": "Stop encoding at a given offset in seconds, frames, or pts (on a 90kHz clock) (e.g. seconds:10, frames:300, pts:900000). Units must match --start-at units, if specified",
          "type": "object",
          "properties": {
            "frames": {
              "description": "The frame number to start at.",
              "type": "integer"
            },
            "seconds": {
              "description": "The time-code to start at (in seconds).",
              "type": "number"
            },
            "pts": {
              "description": "The presentation timestamp to start at (based on a 90 kHz clock).",
              "type": "integer"
            }
          }
        }
      },
      "additionalProperties": false
    },
    "destination_options": {
      "description": "The destination options to use.",
      "type": "object",
      "properties": {
        "format": {
          "description": "The container format to use, auto-detected by 'output_file' value by default.",
          "type": "string",
          "enum": [
            "av_mp4",
            "av_mkv",
            "av_webm"
          ]
        },
        "markers": {
          "description": "Add chapter markers.",
          "type": "boolean"
        },
        "optimize": {
          "description": "Optimize MP4 files for HTTP streaming.",
          "type": "boolean",
          "default": false
        },
        "ipod_atom": {
          "description": "Add iPod 5G compatibility atom to MP4 container.",
          "type": "boolean",
          "default": false
        },
        "align_av": {
          "description": "Add audio silence or black video frames to start of streams so that all streams start at exactly the same time",
          "type": "boolean",
          "default": false
        },
        "inline_parameter_sets": {
          "description": "Create adaptive streaming compatible output. Inserts parameter sets (SPS and PPS) inline in the video stream before each IDR.",
          "type": "boolean",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "video_options": {
      "description": "Handbrake CLI video encoding/processing options.",
      "type": "object",
      "properties": {
        "encoder": {
          "description": "Set the encoder to use. Encoder options are case-sensitive.",
          "type": "string",
          "enum": [
            "svt_av1",
            "svt_av1_10bit",
            "x264",
            "x264_10bit",
            "nvenc_h264",
            "x265",
            "x265_10bit",
            "x265_12bit",
            "nvenc_h265",
            "nvenv_h265_10bit",
            "nvenc_h265_12bit",
            "mpeg2",
            "mpeg4",
            "VP8",
            "VP9",
            "theora"
          ]
        },
        "encoder_preset": {
          "description": "Adjust video encoding settings for a particular speed/efficiency tradeoff (encoder-specific)",
          "type": "string"
        },
        "encoder_tune": {
          "description": "Adjust video encoding settings for a particular type of source or situation (encoder-specific)",
          "type": "string"
        },
        "encopts": {
          "description": "Specify advanced encoding options (except 'theora'). Settings should be defined as key: value in this section and will be translated to look like 'mencoder'.  Encoder options without values should be set to null.",
          "type": "object"
        },
        "encoder_profile": {
          "description": "Ensure compliance with the requested codec profile (encoder-specific)",
          "type": "string"
        },
        "encoder_level": {
          "description": "Ensures compliance with the requested codec level (encoder-specific)",
          "type": "string"
        },
        "quality": {
          "description": "Set video quality (e.g. 22.0)",
          "type": "number"
        },
        "vb": {
          "description": "Set video bitrate in kbit/s (default: 1000)",
          "type": "integer"
        },
        "two_pass": {
          "description": "Use two-pass mode.",
          "type": "boolean",
          "default": false
        },
        "turbo": {
          "description": "When using 2-pass use 'turbo' options on the first pass to improve speed (works with x264 and x265)",
          "type": "boolean",
          "default": false
        },
        "rate": {
          "description": "Set video framerate (5/10/12/15/20/23.976/24/25/29.97/30/48/50/59.94/60/72/75/90/100/120 or a number between 1 and 1000). Be aware that not specifying a framerate lets HandBrake preserve a source's time stamps, potentially creating variable framerate video",
          "type": "number"
        },
        "vfr": {
          "description": "Select variable frame rate control.",
          "type": "boolean"
        },
        "cfr": {
          "description": "Select constant frame rate control.",
          "type": "boolean"
        },
        "pfr": {
          "description": "Select peak frame rate control.",
          "type": "boolean"
        },
        "enable_hw_decoding": {
          "description": "Use 'nvdec' to enable 'nvdec'",
          "type": "boolean"
        },
        "disable_hw_decoding": {
          "description": "Disable hardware decoding of the video track forcing software decoding instead.",
          "type": "boolean"
        }
      },
      "additionalProperties": false
    },
    "audio_options": {
      "description": "The Handbrake command-line options for processing audio.",
      "type": "object",
      "properties": {
        "audio_lang_list": {
          "description": "Specify a list of audio languages you would like to select from the source title. By default, the first audio matching each language will be added to your output. Provide the language's ISO 639-2 code (e.g. fre, eng, spa, dut, et cetera). Use code 'und' (Unknown) to match all languages.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "all_audio": {
          "description": "Select all audio tracks matching languages in the specified language list (--audio-lang-list). Any language if list is not specified.",
          "type": "boolean"
        },
        "first_audio": {
          "description": "Select first audio track matching languages in the specified language list (--audio-lang-list). Any language if list is not specified.",
          "type": "boolean"
        },
        "audio": {
          "description": "Select audio track(s) specified as a list. ('null' for no audio, '1,2,3' for multiple tracks, default: first one). Multiple output tracks can be used for one input.",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "integer"
          }
        },
        "aencoder": {
          "description": "The audio encoder to use. 'copy:<type>' will pass through the corresponding audio track without modification, if pass through is supported for the audio type.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "none",
              "fdk_aac",
              "fdk_haac",
              "av_aac",
              "copy:aac",
              "ac3",
              "copy:ac3",
              "eac3",
              "copy:eac3",
              "copy:truehd",
              "copy:dts",
              "copy:dtshd",
              "copy:mp2",
              "mp3",
              "copy:mp3",
              "vorbis",
              "flac16",
              "flac24",
              "copy:flac",
              "opus",
              "copy:opus",
              "copy"
            ]
          }
        },
        "audio_copy_mask": {
          "description": "Set audio codecs that are permitted when the 'copy' audio encoder option is specified (aac/ac3/eac3/truehd/dts/dtshd/mp2/mp3/flac/opus).",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "audio_fallback": {
          "description": "Set audio codec to use when it is not possible to copy an audio track without re-encoding.",
          "type": "string"
        },
        "ab": {
          "description": "Set audio track bitrate(s) in kbit/s (default: determined by the selected codec, mixdown, and samplerate combination).",
          "type": "array",
          "items": {
            "type": "integer"
          }
        },
        "ac": {
          "description": "Set audio compression metric (available depending on selected codec).",
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "mixdown": {
          "description": "Format(s) for audio downmixing/upmixing.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "mono",
              "left_only",
              "right_only",
              "stereo",
              "dpl1",
              "dpl2",
              "5point1",
              "6point1",
              "7point1",
              "5_2_lfe"
            ]
          }
        },
        "normalize_mix": {
          "description": "Normalize audio mix levels to prevent clipping.",
          "type": "array",
          "items": {
            "type": "boolean"
          }
        },
        "arate": {
          "description": "Set audio samplerate(s) (8/11.025/12/16/22.05/24/32/44.1/48 kHz) or 'auto'.",
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "drc": {
          "description": "Apply extra dynamic range compression to the audio, making soft sounds louder. Range is 1.0 to 4.0 (too loud), with 1.5 - 2.5 being a useful range.",
          "type": "array",
          "items": {
            "type": "number",
            "minimum": 1,
            "maximum": 4
          }
        },
        "gain": {
          "description": "Amplify or attenuate audio before encoding.  Does NOT work with audio passthru (copy). Values are in dB.  Negative values attenuate, positive values amplify. A 1 dB difference is barely audible.",
          "type": "array",
          "items": {
            "type": "number"
          }
        },
        "adither": {
          "description": "Select dithering to apply before encoding audio. Only applies to 'flac16'.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "auto",
              "none",
              "rectangular",
              "triangular",
              "triangular_hp",
              "lipshitz_ns"
            ]
          }
        },
        "aname": {
          "description": "Set audio track name(s).",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": false
    },
    "picture_options": {
      "description": "The picture manipulation options for HandBrake CLI.",
      "type": "object",
      "properties": {
        "width": {
          "description": "Set storage width in pixels.",
          "type": "integer"
        },
        "height": {
          "description": "Set storage height in pixels",
          "type": "integer"
        },
        "crop_mode": {
          "description": "Choose which crop mode to operate in.",
          "type": "string",
          "enum": [
            "auto",
            "conservative",
            "none",
            "custom"
          ],
          "default": "auto"
        },
        "crop": {
          "description": "Set picture cropping in pixels.",
          "type": "object",
          "properties": {
            "top": {
              "description": "The pixels to crop from the top of the picture.",
              "type": "integer"
            },
            "bottom": {
              "description": "The pixels to crop from the bottom of the picture.",
              "type": "integer"
            },
            "left": {
              "description": "The pixels to crop from the left side of the picture.",
              "type": "integer"
            },
            "right": {
              "description": "The pixels to crop from the right side of the picture.",
              "type": "integer"
            }
          }
        },
        "crop_threshold_pixels": {
          "description": "Number of pixels difference before we consider the frame to be a different aspect ratio.",
          "type": "integer",
          "default": 9
        },
        "crop_threshold_frames": {
          "description": "Number of frames that must be different to trigger smart crop (default: 4, 6 or 8 scaling with preview count)",
          "type": "integer"
        },
        "max_height": {
          "description": "Set maximum height in pixels",
          "type": "integer"
        },
        "max_width": {
          "description": "Set maximum width in pixels",
          "type": "integer"
        },
        "non_anamorphic": {
          "description": "Set pixel aspect ratio to 1:1",
          "type": "boolean"
        },
        "auto_anamorphic": {
          "description": "Store pixel aspect ratio that maximizes storage resolution",
          "type": "boolean"
        },
        "loose_anamorphic": {
          "description": "Store pixel aspect ratio that is as close as possible to the source video pixel aspect ratio",
          "type": "boolean"
        },
        "custom_anamorphic": {
          "description": "Store pixel aspect ratio in video stream and directly control all parameters.",
          "type": "boolean"
        },
        "display_width": {
          "description": "Set display width in pixels, for custom anamorphic. This determines the display aspect during playback, which may differ from the storage aspect.",
          "type": "integer"
        },
        "keep_display_aspect": {
          "description": "Preserve the source's display aspect ratio when using custom anamorphic",
          "type": "boolean"
        },
        "pixel_aspect": {
          "description": "Set pixel aspect for custom anamorphic (--display-width and --pixel-aspect are mutually exclusive. This should be in the format of <par_x>:<par_y>",
          "type": "string"
        },
        "itu_par": {
          "description": "Use wider ITU pixel aspect values for loose and custom anamorphic, useful with underscanned sources",
          "type": "boolean"
        },
        "modulus": {
          "description": "Set storage width and height modulus. Dimensions will be made divisible by this number (default: set by preset, typically 2)",
          "type": "integer"
        },
        "color_matrix": {
          "description": "Set the color space signaled by the output, overrides color signalling with no conversion.",
          "type": "string",
          "enum": [
            "2020",
            "709",
            "601",
            "ntsc",
            "pal"
          ]
        }
      },
      "additionalProperties": false
    },
    "filters_options": {
      "description": "Source processing filter options for HandBrake",
      "type": "object",
      "properties": {
        "comb_detect": {
          "description": "Detect interlace artifacts in frames. If not accompanied by the decomb or deinterlace filters, this filter only logs the interlaced frame count to the activity log. If accompanied by the decomb or deinterlace filters, it causes these filters to selectively deinterlace only those frames where interlacing is detected.",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "presets": {
              "description": "Preset comb detect settings.",
              "type": "string",
              "enum": [
                "permissive",
                "fast"
              ]
            },
            "custom": {
              "description": "Custom comb detect settings.",
              "type": "object",
              "properties": {
                "mode": {
                  "description": "Comb detect mode",
                  "type": "number",
                  "default": 3
                },
                "spatial_metric": {
                  "description": "Comb detect spatial metric",
                  "type": "number",
                  "default": 2
                },
                "motion_thresh": {
                  "description": "Comb detect motion threshold",
                  "type": "number",
                  "default": 1
                },
                "spatial_thresh": {
                  "description": "Comb detect spatial threshold",
                  "type": "number",
                  "default": 1
                },
                "filter_mode": {
                  "description": "Comb detect filter mode",
                  "type": "number",
                  "default": 2
                },
                "block_thresh": {
                  "description": "Comb detect block threshold",
                  "type": "number",
                  "default": 40
                },
                "block_width": {
                  "description": "Comb detect block width",
                  "type": "number",
                  "default": 16
                },
                "block_height": {
                  "description": "Comb detect block height",
                  "type": "number",
                  "default": 16
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          },
          "oneOf": [
            {
              "required": [
                "presets"
              ],
              "type": "object",
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "type": "object",
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ],
          "additionalProperties": false
        },
        "deinterlace": {
          "description": "Deinterlace video using FFmpeg yadif.",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "Ffmpeg yadif preset to use.",
              "type": "string",
              "enum": [
                "skip-spatial",
                "bob",
                "qsv"
              ]
            },
            "custom": {
              "description": "The custom Ffmpeg yadif settings to use.",
              "type": "object",
              "properties": {
                "mode": {
                  "description": "Deinterlace mode",
                  "type": "number",
                  "default": 3
                },
                "parity": {
                  "description": "Deinterlace parity",
                  "type": "number"
                }
              },
              "minProperties": 1,
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ],
          "additionalProperties": false
        },
        "bwdif": {
          "description": "Deinterlace video using FFmpeg bwdif.",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "The FFmpeg bwdif preset to use.",
              "type": "string",
              "enum": [
                "bob"
              ]
            },
            "custom": {
              "description": "The FFmpeg bwdif custom settings to use.",
              "type": "object",
              "properties": {
                "mode": {
                  "description": "The FFmpeg bwdif mode to use.",
                  "type": "number",
                  "default": 3
                },
                "parity": {
                  "description": "The Ffmpeg bwdif parity to use.",
                  "type": "number"
                }
              },
              "minProperties": 1,
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ],
          "additionalProperties": false
        },
        "decomb": {
          "description": "Deinterlace video using a combination of yadif, blend, cubic, or EEDI2 interpolation.",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "The deinterlacing preset to use.",
              "type": "string",
              "enum": [
                "bob",
                "eedi2",
                "eedi2bob"
              ]
            },
            "custom": {
              "description": "The deinterlacing custom format to use.",
              "type": "object",
              "properties": {
                "mode": {
                  "description": "The custom deinterlacing mode.",
                  "type": "number",
                  "default": 7
                },
                "magnitude_thresh": {
                  "description": "The magnitude threshold to use.",
                  "type": "number"
                },
                "laplacian_thresh": {
                  "description": "The laplacian threshold to use.",
                  "type": "number"
                },
                "variance_thresh": {
                  "description": "The variance threshold to use.",
                  "type": "number"
                },
                "dilation_thresh": {
                  "description": "The dilation threshold to use.",
                  "type": "number"
                },
                "erosion_thresh": {
                  "description": "The erosion threshold to use.",
                  "type": "number"
                },
                "noise_thresh": {
                  "description": "The noise threshold to use.",
                  "type": "number"
                },
                "search_distance": {
                  "description": "The search distance to use.",
                  "type": "number"
                },
                "postproc": {
                  "description": "The post processing setting to use.",
                  "type": "number"
                },
                "parity": {
                  "description": "The parity setting to use.",
                  "type": "number"
                }
              }
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "detelecine": {
          "description": "Detelecine (ivtc) video with pullup filter. Note: this filter drops duplicate frames to restore the pre-telecine framerate, unless you specify a constant framerate.",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "skip_left": {
              "description": "Skip left setting for IVTC",
              "type": "number",
              "default": 1
            },
            "skip_right": {
              "description": "Skip right setting for IVTC",
              "type": "number",
              "default": 1
            },
            "skip_top": {
              "description": "Skip top setting for IVTC",
              "type": "number",
              "default": 4
            },
            "skip_bottom": {
              "description": "Skip bottom setting for IVTC",
              "type": "number",
              "default": 4
            },
            "strict_breaks": {
              "description": "Strict breaks setting for IVTC",
              "type": "number"
            },
            "plane": {
              "description": "The plane setting for IVTC",
              "type": "number",
              "default": 0
            },
            "parity": {
              "description": "The parity setting for IVTC",
              "type": "number"
            },
            "disable": {
              "description": "Disable IVTC",
              "type": "number"
            }
          },
          "oneOf": [
            {
              "minProperties": 1,
              "type": "object"
            },
            {
              "type": "boolean"
            }
          ]
        },
        "hqdn3d": {
          "description": "Denoise video with `hqdn3d` filter",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "The hqdb3d filter preset to use",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong"
              ]
            },
            "custom": {
              "description": "The custom hqdb3d filter to use",
              "type": "object",
              "properties": {
                "y_spatial": {
                  "description": "The Y-spatial setting to use.",
                  "type": "number",
                  "default": 3
                },
                "cb_spatial": {
                  "description": "The CB-spatial setting to use.",
                  "type": "number",
                  "default": 2
                },
                "cr_spatial": {
                  "description": "The CR-spatial setting to use.",
                  "type": "number",
                  "default": 2
                },
                "y_temporal": {
                  "description": "The Y-temporal setting to use.",
                  "type": "number",
                  "default": 2
                },
                "cb_temporal": {
                  "description": "The CB-temporal setting to use.",
                  "type": "number",
                  "default": 3
                },
                "cr_temporal": {
                  "description": "The CR-temporal setting to use.",
                  "type": "number",
                  "default": 3
                }
              },
              "minProperties": 1,
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "nlmeans": {
          "description": "Denoise video with NLMeans filter",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "The NLMeans filter preset to use.",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong"
              ]
            },
            "custom": {
              "description": "The custom NLMeans filter settings to use.",
              "type": "object",
              "properties": {
                "y_strength": {
                  "description": "The 'y-strength' setting to use.",
                  "type": "number",
                  "default": 6
                },
                "y_origin_tune": {
                  "description": "The 'y-origin-tune' setting to use.",
                  "type": "number",
                  "default": 1
                },
                "y_patch_size": {
                  "description": "The 'y-patch-size' setting to use.",
                  "type": "number",
                  "default": 7
                },
                "y_range": {
                  "description": "The 'y-range' setting to use.",
                  "type": "number",
                  "default": 3
                },
                "y_frame_count": {
                  "description": "The 'y-frame-count' setting to use.",
                  "type": "number",
                  "default": 2
                },
                "y_prefilter": {
                  "description": "The 'y-prefilter' setting to use.",
                  "type": "number",
                  "default": 0
                },
                "cb_strength": {
                  "description": "The 'cb-strength' setting to use.",
                  "type": "number",
                  "default": 6
                },
                "cb_origin_tune": {
                  "description": "The 'cb-origin-tune' setting to use.",
                  "type": "number",
                  "default": 1
                },
                "cb_patch_size": {
                  "description": "The 'cb-patch-size' setting to use.",
                  "type": "number",
                  "default": 7
                },
                "cb_range": {
                  "description": "The 'cb-range' setting to use.",
                  "type": "number",
                  "default": 3
                },
                "cb_frame_count": {
                  "description": "The 'cb-frame-count' setting to use.",
                  "type": "number",
                  "default": 2
                },
                "cb_prefilter": {
                  "description": "The 'cb-prefilter' setting to use.",
                  "type": "number",
                  "default": 0
                },
                "cr_strength": {
                  "description": "The 'cr-strength' setting to use.",
                  "type": "number"
                },
                "cr_origin_tune": {
                  "description": "The 'cr-origin-tune' setting to use.",
                  "type": "number"
                },
                "cr_patch_size": {
                  "description": "The 'cr-patch-size' setting to use.",
                  "type": "number"
                },
                "cr_range": {
                  "description": "The 'cr-range' setting to use.",
                  "type": "number"
                },
                "cr_frame_count": {
                  "description": "The 'cr-frame-count' setting to use.",
                  "type": "number"
                },
                "cr_prefilter": {
                  "description": "The 'cr-prefilter' setting to use.",
                  "type": "number"
                },
                "threads": {
                  "description": "The 'threads' setting to use.",
                  "type": "number"
                }
              },
              "minProperties": 1,
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "nlmeans_tune": {
          "description": "Tune NLMeans filter to content type. Applies to NLMeans presets only (does not affect custom settings)",
          "type": "string",
          "enum": [
            "none",
            "film",
            "grain",
            "highmotion",
            "animation",
            "tape",
            "sprite"
          ]
        },
        "chroma_smooth": {
          "description": "Sharpen video with chroma smooth filter",
          "type": [
            "object",
            "boolean"
          ],
          "properties": {
            "preset": {
              "description": "The chroma smooth filter preset to use.",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong",
                "stronger",
                "verystrong"
              ]
            },
            "custom": {
              "description": "The custom chroma smooth filter settings to use.",
              "type": "object",
              "properties": {
                "cb_strength": {
                  "description": "The 'cb-strength' value to use",
                  "type": "number",
                  "default": 1.2
                },
                "cb_size": {
                  "description": "The 'cb-size' value to use",
                  "type": "number",
                  "default": 7
                },
                "cr_strength": {
                  "description": "The 'cr-strength' value to use.",
                  "type": "number"
                },
                "cr_size": {
                  "description": "The 'cr-size' value to use.",
                  "type": "number"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "chroma_smooth_tune": {
          "description": "Tune chroma smooth filter. Applies to chroma smooth presets only (does not affect custom settings)",
          "type": "string",
          "enum": [
            "none",
            "tiny",
            "small",
            "medium",
            "wide",
            "verywide"
          ]
        },
        "unsharp": {
          "description": "Sharpen video with unsharp filter",
          "type": [
            "object",
            "boolean"
          ],
          "default": false,
          "properties": {
            "preset": {
              "description": "The unsharp filter settings preset to use.",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong",
                "stronger",
                "verystrong"
              ]
            },
            "custom": {
              "description": "The custom unsharp filter settings to use.",
              "type": "object",
              "properties": {
                "y_strength": {
                  "description": "The 'y-strength' value to use.",
                  "type": "number",
                  "default": 0.25
                },
                "y_size": {
                  "description": "The 'y-size' value to use.",
                  "type": "number",
                  "default": 7
                },
                "cb_strength": {
                  "description": "The 'cb-strength' value to use.",
                  "type": "number",
                  "default": 0.25
                },
                "cb_size": {
                  "descriptoin": "The 'cb-size' value to use.",
                  "type": "number",
                  "default": 7
                },
                "cr_strength": {
                  "description": "The 'cr-strength' value to use.",
                  "type": "number"
                },
                "cr_size": {
                  "descriptoin": "The 'cr-size' value to use.",
                  "type": "number"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "unsharp_tune": {
          "description": "Tune unsharp filter. Applies to unsharp presets only (does not affect custom settings)",
          "type": "string",
          "enum": [
            "none",
            "ultrafine",
            "fine",
            "medium",
            "coarse",
            "verycoarse"
          ]
        },
        "lapsharp": {
          "description": "Sharpen video with lapsharp filter",
          "type": [
            "object",
            "boolean"
          ],
          "default": false,
          "properties": {
            "preset": {
              "description": "The lapsharp filter preset to use.",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong",
                "stronger",
                "verystrong"
              ]
            },
            "custom": {
              "description": "The custom lapsharp filter settings to use.",
              "type": "object",
              "properties": {
                "y_strength": {
                  "description": "The 'y-strength' value to use.",
                  "type": "number",
                  "default": 0.2
                },
                "y_kernel": {
                  "description": "The 'y-kernel' value to use.",
                  "type": "string",
                  "default": "isolap"
                },
                "cb_strength": {
                  "description": "The 'cb-strength' value to use.",
                  "type": "number",
                  "default": 0.2
                },
                "cb_kernel": {
                  "description": "The 'cb-kernel' value to use.",
                  "type": "string",
                  "default": "isolap"
                },
                "cr_strength": {
                  "description": "The 'cr-strength' value to use.",
                  "type": "number"
                },
                "cr_kernel": {
                  "description": "The 'cr-kernel' value to use.",
                  "type": "string"
                }
              },
              "additionalProperties": false,
              "minProperties": 1
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "lapsharp_tune": {
          "description": "Tune lapsharp filter. Applies to lapsharp presets only (does not affect custom settings)",
          "type": "string",
          "enum": [
            "none",
            "film",
            "grain",
            "animation",
            "sprite"
          ]
        },
        "deblock": {
          "description": "Deblock video with avfilter deblock",
          "type": [
            "object",
            "boolean"
          ],
          "default": false,
          "properties": {
            "preset": {
              "description": "The avfilter deblock preset to use.",
              "type": "string",
              "enum": [
                "ultralight",
                "light",
                "medium",
                "strong",
                "stronger",
                "verystrong"
              ]
            },
            "custom": {
              "description": "The custom avfilter deblock settings to use.",
              "type": "object",
              "properties": {
                "strength": {
                  "description": "The 'strength' setting to use.",
                  "type": "string",
                  "default": "strong"
                },
                "thresh": {
                  "description": "The 'thresh' value to use.",
                  "type": "number",
                  "default": 20
                },
                "blocksize": {
                  "description": "The 'blocksize' value to use.",
                  "type": "number"
                },
                "disable": {
                  "description": "The 'disable' value to use.",
                  "type": "number"
                }
              },
              "minProperties": 1,
              "additionalProperties": false
            }
          },
          "oneOf": [
            {
              "required": [
                "preset"
              ],
              "maxProperties": 1
            },
            {
              "required": [
                "custom"
              ],
              "maxProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "deblock_tune": {
          "description": "Tune deblock filter. Applies to deblock presets only (does not affect custom settings)",
          "type": "string",
          "enum": [
            "small",
            "medium",
            "large"
          ]
        },
        "rotate": {
          "description": "Rotate image or flip its axes.",
          "type": [
            "object",
            "boolean"
          ],
          "default": false,
          "properties": {
            "angle": {
              "description": "The angle to rotate.  The angles can be 0, 90, 180, 270.",
              "type": "integer",
              "multipleOf": 90,
              "minimum": 0,
              "maximum": 270,
              "default": 180
            },
            "hflip": {
              "description": "Flip the image on the x-axis (horizontally)",
              "type": "boolean",
              "default": false
            }
          },
          "additionalProperties": false,
          "oneOf": [
            {
              "type": "object",
              "minProperties": 1
            },
            {
              "type": "boolean"
            }
          ]
        },
        "pad": {
          "description": "Pad image with borders (e.g. letterbox). The padding color may be set (default black). Color may be an HTML color name or RGB value. The position of image in pad may also be set.",
          "type": "object",
          "properties": {
            "width": {
              "description": "The 'width' padding setting.",
              "type": "integer"
            },
            "height": {
              "description": "The 'height' padding setting.",
              "type": "integer"
            },
            "color": {
              "description": "The 'color' of the padding. Color may be an HTML color name or RGB value.",
              "type": "string"
            },
            "x": {
              "description": "The 'x' position of the image in the padding.",
              "type": "integer"
            },
            "y": {
              "description": "The 'y' position of the image in the padding.",
              "type": "integer"
            },
            "top": {
              "description": "The 'top' setting for the padding.",
              "type": "integer"
            },
            "bottom": {
              "description": "The 'bottom' setting for the padding.",
              "type": "integer"
            },
            "left": {
              "description": "The 'left' setting for the padding.",
              "type": "integer"
            },
            "right": {
              "description": "The 'right' setting for the padding.",
              "type": "integer"
            }
          },
          "minProperties": 1,
          "additionalProperties": false
        },
        "colorspace": {
          "description": "Convert colorspace, transfer characteristics or color primaries.",
          "type": "string",
          "enum": [
            "bt2020",
            "bt709",
            "bt601-6-525",
            "bt601-6-625"
          ]
        },
        "grayscale": {
          "description": "Enable grayscale encoding",
          "type": "boolean",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "subtitles_options": {
      "description": "The subtitle processing options for HandBrake",
      "type": "object",
      "properties": {
        "subtitle_lang_list": {
          "description": "Specify a comma separated list of subtitle languages you would like to select from the source title. By default, the first subtitle matching each language will be added to your output. Provide the language's ISO 639-2 code (e.g. fre, eng, spa, dut, et cetera)",
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "all_subtitles": {
          "description": "Select all subtitle tracks matching languages in the specified language list",
          "type": "boolean"
        },
        "first_subtitles": {
          "description": "Select first subtitle track matching languages in the specified language list",
          "type": "boolean"
        },
        "subtitle": {
          "description": "Select subtitle track(s) as a list. More than one output track can be used for one input. Set to \"false\" no subtitles.",
          "type": [
            "boolean",
            "array"
          ],
          "items": {
            "type": [
              "string",
              "integer"
            ]
          },
          "minItems": 1
        },
        "subname": {
          "description": "Set subtitle track name(s).",
          "type": "array",
          "items": {
            "description": "The subtitle track name.",
            "type": "string"
          },
          "minItems": 1
        },
        "subtitle_forced": {
          "description": "Only display subtitles from the selected stream if the subtitle has the forced flag set. The values in 'string' are indexes into the subtitle list specified with '--subtitle'. Separate tracks by commas. Example: '[1, 2, 3]' for multiple tracks. If 'string' is omitted, the first track is forced.",
          "type": [
            "boolean",
            "array"
          ],
          "items": {
            "description": "The subtitle track to use.",
            "type": "integer"
          },
          "minItems": 1
        },
        "subtitle_burned": {
          "description": "'Burn' the selected subtitle into the video track. If 'subtitle' is omitted, the first track is burned. 'subtitle' is an index into the subtitle list specified with '--subtitle' or 'native' to burn the subtitle track that may be added by the 'native-language' option.",
          "type": [
            "integer",
            "string"
          ]
        },
        "subtitle_default": {
          "description": "Flag the selected subtitle as the default subtitle to be displayed upon playback.  Setting no default means no subtitle will be displayed automatically. 'number' is an index into the subtitle list specified with '--subtitle'. 'none' may be used to override an automatically selected default subtitle track.",
          "type": [
            "integer",
            "string"
          ]
        },
        "native_language": {
          "description": "Specify your language preference. When the first audio track does not match your native language then select the first subtitle that does. When used in conjunction with --native-dub the audio track is changed in preference to subtitles. Provide the language's ISO 639-2 code (e.g. fre, eng, spa, dut, et cetera)",
          "type": "string"
        },
        "native_dub": {
          "description": "Used in conjunction with --native-language requests that if no audio tracks are selected the default selected audio track will be the first one that matches the --native-language. If there are no matching audio tracks then the first matching subtitle track is used instead.",
          "type": "boolean"
        },
        "srt_file": {
          "description": "SubRip SRT filename(s), separated by commas.",
          "type": "array",
          "items": {
            "description": "SubRip SRT filename.",
            "type": "string"
          },
          "minItems": 1
        },
        "srt_codeset": {
          "description": "Character codeset(s) that the SRT file(s) are encoded as, separated by commas. If not specified, 'latin1' is assumed. Command 'iconv -l' provides a list of valid codesets.",
          "type": "array",
          "items": {
            "description": "The character codeset to use.",
            "type": "string"
          },
          "minItems": 1
        },
        "srt_offset": {
          "description": "Offset (in milliseconds) to apply to the SRT file(s), separated by commas. If not specified, zero is assumed. Offsets may be negative.",
          "type": "array",
          "items": {
            "description": "The track offset (in milliseconds)",
            "type": "integer"
          },
          "minItems": 1
        },
        "srt_lang": {
          "description": "SRT track language as an ISO 639-2 code (e.g. fre, eng, spa, dut, et cetera). If not specified, then 'und' is used. Separate by commas.",
          "type": "array",
          "items": {
            "description": "The language code for the track",
            "type": "string"
          },
          "minItems": 1
        },
        "srt_default": {
          "description": "Flag the selected SRT as the default subtitle to be displayed during playback. Setting no default means no subtitle will be automatically displayed. If 'number' is omitted, the first SRT is the default. 'number' is a 1-based index into the 'srt-file' list.",
          "type": [
            "boolean",
            "integer"
          ]
        },
        "srt_burn": {
          "description": "'Burn' the selected SRT subtitle into the video track. If 'number' is omitted, the first SRT is burned. 'number' is a 1-based index into the 'srt-file' list",
          "type": [
            "boolean",
            "integer"
          ]
        },
        "ssa_file": {
          "description": "SubStationAlpha SSA filename(s), separated by commas.",
          "type": "array",
          "items": {
            "description": "SubStationAlpha ASS/SSA filename.",
            "type": "string"
          },
          "minItems": 1
        },
        "ssa_offset": {
          "description": "Offset (in milliseconds) to apply to the SSA file(s), separated by commas. If not specified, zero is assumed. Offsets may be negative.",
          "type": "array",
          "items": {
            "description": "Offset (in milliseconds) for the track.",
            "type": "integer"
          },
          "minItems": 1
        },
        "ssa_lang": {
          "description": "SSA track language as an ISO 639-2 code (e.g. fre, eng, spa, dut, et cetera). If not specified, then 'und' is used. Separate by commas.",
          "type": "array",
          "items": {
            "description": "SSA track language (ISO 639-2 code).",
            "type": "string"
          },
          "minItems": 1
        },
        "ssa_default": {
          "description": "Flag the selected SSA as the default subtitle to be displayed during playback. Setting no default means no subtitle will be automatically displayed. If 'number' is omitted, the first SSA is the default. 'number' is a 1-based index into the 'ssa-file' list",
          "type": [
            "boolean",
            "integer"
          ]
        },
        "ssa_burn": {
          "description": "'Burn' the selected SSA subtitle into the video track. If 'number' is omitted, the first SSA is burned. 'number' is a 1-based index into the 'ssa-file' list",
          "type": [
            "boolean",
            "integer"
          ]
        }
      },
      "additionalProperties": false
    }
  },
  "required": [
    "source",
    "output_file"
  ],
  "additionalProperties": false
}